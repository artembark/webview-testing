<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request data from webview</title>
</head>
<body>
<h1>Request data from webview</h1>

<p>Data from webview: <span id="messageFromFlutter"></span></p>
<button onclick="sendMessageToFlutter()">Request data from webview</button>

<script>
    // Function to receive messages from Flutter
    function receiveMessageFromFlutter(message) {
      document.getElementById('messageFromFlutter').innerText = message;
    }

    // Function to send a message to Flutter
    function sendMessageToFlutter() {
      var message = '{ "type": "message", "data": "ready" }';
      messageHandler.postMessage(message);
    }

    // Request data as page loads
    document.addEventListener('DOMContentLoaded', () => {
    sendMessageToFlutter();
  });
</script>
</body>
</html>
